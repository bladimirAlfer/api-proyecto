-- Script para crear la base de datos

-- Eliminar la base de datos si ya existe
DROP DATABASE IF EXISTS proyecto;

-- Crear la base de datos con codificación utf8mb4
CREATE DATABASE proyecto CHARSET utf8mb4;

-- Usar la base de datos recién creada
USE proyecto;

-- Crear el esquema para médicos
CREATE SCHEMA medicos_schema;

-- Crear la tabla de médicos en el esquema medicos_schema
CREATE TABLE medicos_schema.medicos (
    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    specialty VARCHAR(100) NOT NULL
);

-- Insertar datos de ejemplo en la tabla de médicos
INSERT INTO medicos_schema.medicos (name, specialty) VALUES ('Dr. John Doe', 'Cardiology');
INSERT INTO medicos_schema.medicos (name, specialty) VALUES ('Dr. Jane Smith', 'Neurology');
INSERT INTO medicos_schema.medicos (name, specialty) VALUES ('Dr. Alice Johnson', 'Pediatrics');

-- Crear el esquema para pacientes
CREATE SCHEMA pacientes_schema;

-- Crear la tabla de pacientes en el esquema pacientes_schema
CREATE TABLE pacientes_schema.pacientes (
    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    age INT NOT NULL
);

-- Insertar datos de ejemplo en la tabla de pacientes
INSERT INTO pacientes_schema.pacientes (name, age) VALUES ('Alice Brown', 30);
INSERT INTO pacientes_schema.pacientes (name, age) VALUES ('Bob White', 45);
INSERT INTO pacientes_schema.pacientes (name, age) VALUES ('Charlie Green', 20);

-- Crear el esquema para citas médicas
CREATE SCHEMA citas_schema;

-- Crear la tabla de citas médicas en el esquema citas_schema
CREATE TABLE citas_schema.citas (
    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    medico_id INT UNSIGNED NOT NULL,
    paciente_id INT UNSIGNED NOT NULL,
    date DATETIME NOT NULL,
    FOREIGN KEY (medico_id) REFERENCES medicos_schema.medicos(id),
    FOREIGN KEY (paciente_id) REFERENCES pacientes_schema.pacientes(id)
);

-- Insertar datos de ejemplo en la tabla de citas médicas
INSERT INTO citas_schema.citas (medico_id, paciente_id, date) VALUES (1, 1, '2024-05-14 10:00:00');
INSERT INTO citas_schema.citas (medico_id, paciente_id, date) VALUES (2, 2, '2024-05-15 11:00:00');
INSERT INTO citas_schema.citas (medico_id, paciente_id, date) VALUES (3, 3, '2024-05-16 12:00:00');

